diff --git a/re/cmake/re-config.cmake b/re/cmake/re-config.cmake
index 53f4c3b..f3ea69e 100644
--- a/re/cmake/re-config.cmake
+++ b/re/cmake/re-config.cmake
@@ -11,7 +11,7 @@ find_package(ZLIB)
 if (USE_MBEDTLS)
 find_package(MBEDTLS)
 else()
-find_package(OpenSSL "1.1.1")
+find_package(OpenSSL "1.1.1" HINTS ../openssl)
 endif()
 
 option(USE_OPENSSL "Enable OpenSSL" ${OPENSSL_FOUND})
@@ -184,11 +184,12 @@ endif()
 list(APPEND RE_DEFINITIONS
   -DARCH="${CMAKE_SYSTEM_PROCESSOR}"
   -DOS="${CMAKE_SYSTEM_NAME}"
-  $<$<NOT:$<CONFIG:DEBUG>>:-DRELEASE>
 )
 
 if(NOT ${CMAKE_BUILD_TYPE} MATCHES "[Rr]el")
   if(Backtrace_FOUND)
     set(CMAKE_ENABLE_EXPORTS ON)
   endif()
+else()
+  list(APPEND RE_DEFINITIONS -DRELEASE)
 endif()
